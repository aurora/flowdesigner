<html>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script type="text/javascript" src="http://cpettitt.github.io/project/dagre/latest/dagre.min.js"></script>
    <script type="text/javascript" src="d3util.js"></script>
    <script type="text/javascript" src="diagram.js"></script>
    <script type="text/javascript" src="node.js"></script>
    <script type="text/javascript" src="node_test.js"></script>
    <script type="text/javascript" src="node_test2.js"></script>
    <script type="text/javascript" src="wire.js"></script>
    <script type="text/javascript" src="connector.js"></script>
    <style type="text/css">
    body {
        font-family: Verdana, Arial, Helvetica, Sans-Serif;
        font-size: 12px;
    }
    </style>
    <body>
        <svg id="canvas" width="100%" height="95%"></svg>
        <script type="text/javascript">
        var d = new diagram('#canvas');
        d.addScope('image', {
            'color': '#00aa00'
        });
        d.addScope('ctrl', {
            'color': '#aaaaff'
        });
        d.addScope('video', {
            'color': '#aaaa00'
        });

        // d.addNodes([
        //     {
        //         'node': 'node_test',
        //         'name': 'node-1',
        //         'label': 'Node #1'
        //     },
        //     {
        //         'node': 'node_test',
        //         'name': 'node-2',
        //         'label': 'Node #2'
        //     },
        //     {
        //         'node': 'node_test2',
        //         'name': 'node-3',
        //         'label': 'Node #3'
        //     }
        // ]);
        d.addNodes(
            [{"node":"node_test","name":"node-1","label":"Node #1","id":"node-1","x":125,"y":35},{"node":"node_test","name":"node-2","label":"Node #2","id":"node-2","x":426,"y":142},{"node":"node_test2","name":"node-3","label":"Node #3","id":"node-3","x":725,"y":35}]
        );
        
        d.render(
[{"source":"node-1-out1-1","target":"node-2-in-1"},{"source":"node-1-out1-2","target":"node-2-in-2"},{"source":"node-1-out1-1","target":"node-3-in-1"},{"source":"node-2-out1-1","target":"node-3-in-2"}]
        );
        
        function ex() {
            console.log(JSON.stringify(d.exportNodes()));
            console.log(JSON.stringify(d.exportWires()));
        }
        </script>
        <input type="button" value="Export" onclick="ex();" />
    </body>
</html>